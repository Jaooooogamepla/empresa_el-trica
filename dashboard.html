<!-- dashboard.html -->
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Janol.Inej</title>

    <style>
        * {
            margin:0; padding:0;
            box-sizing:border-box;
            font-family:'Segoe UI', Tahoma, sans-serif;
        }

        body {
            background:#f4f6f9;
        }

        /* NAVBAR */
        .navbar {
            background:linear-gradient(135deg, #2c3e50, #34495e);
            padding:15px 0;
            box-shadow:0 4px 10px rgba(0,0,0,0.15);
            position:sticky;
            top:0;
            z-index:10;
        }
        .nav-content {
            max-width:1200px;
            padding:0 25px;
            margin:auto;
            display:flex;
            justify-content:space-between;
            align-items:center;
        }
        .logo {
            font-size:1.8em;
            font-weight:bold;
            color:white;
            cursor:pointer;
        }
        .nav-links {
            display:flex;
            gap:30px;
        }
        .nav-links a {
            color:white;
            padding:8px 18px;
            text-decoration:none;
            border-radius:8px;
            transition:.3s;
        }
        .nav-links a:hover {
            background:rgba(255,255,255,0.15);
        }
        .nav-links .active {
            background:rgba(255,255,255,0.22);
        }

        /* CONTE√öDO */
        .container {
            max-width:1200px;
            margin:35px auto;
            padding:0 20px;
        }

        .welcome-banner {
            text-align:center;
            padding:40px;
            border-radius:15px;
            background:linear-gradient(135deg, #3498db, #2980b9);
            color:white;
            margin-bottom:35px;
            box-shadow:0 10px 20px rgba(0,0,0,0.15);
            animation:fadeIn .6s ease-out;
        }

        @keyframes fadeIn {
            from { opacity:0; transform:translateY(10px); }
            to   { opacity:1; transform:translateY(0); }
        }

        /* CARDS DE ESTAT√çSTICA */
        .stats-grid {
            display:grid;
            grid-template-columns:repeat(auto-fit, minmax(260px, 1fr));
            gap:25px;
        }

        .stat-card {
            background:white;
            padding:30px 20px;
            border-radius:15px;
            text-align:center;
            box-shadow:0 10px 30px rgba(0,0,0,0.08);
            transition:.3s;
            animation:fadeIn .6s ease-out;
        }

        .stat-card:hover {
            transform:translateY(-5px);
        }

        .stat-icon {
            font-size:2.3em;
            margin-bottom:10px;
        }

        .stat-number {
            font-size:2.2em;
            font-weight:bold;
            color:#2c3e50;
            margin:5px 0;
        }

        /* A√á√ïES R√ÅPIDAS */
        .quick-actions {
            display:grid;
            grid-template-columns:repeat(auto-fit, minmax(220px, 1fr));
            gap:20px;
            margin-top:40px;
        }

        .action-btn {
            background:white;
            padding:25px;
            border-radius:12px;
            border:2px solid #e0e0e0;
            text-align:center;
            cursor:pointer;
            text-decoration:none;
            color:#2c3e50;
            transition:.3s;
            box-shadow:0 4px 10px rgba(0,0,0,0.05);
            font-weight:600;
        }

        .action-btn:hover {
            border-color:#3498db;
            transform:translateY(-3px);
            box-shadow:0 10px 25px rgba(52,152,219,0.2);
        }

        .action-icon {
            font-size:2.4em;
            margin-bottom:10px;
            display:block;
        }

    </style>
</head>

<body>

    <!-- NAVBAR -->
    <nav class="navbar">
        <div class="nav-content">
            <div class="logo" onclick="window.location.href='dashboard.html'">üèóÔ∏è JANOL.INEJ</div>

            <div class="nav-links">
                <a href="dashboard.html" class="active">üìä Dashboard</a>
                <a href="clientes.html">üë• Clientes</a>
                <a href="projetos.html">üèóÔ∏è Projetos</a>
                <a href="licitacoes.html">üìë Licita√ß√µes</a>
                <a href="relatorios.html">üìà Relat√≥rios</a>
                <a href="configuracoes.html">‚öôÔ∏è Configura√ß√µes</a>
            </div>
        </div>
    </nav>

    <div class="container">

        <div class="welcome-banner">
            <h1>Bem-vindo de volta! üëã</h1>
            <p>Aqui est√° um resumo atualizado da sua empresa hoje.</p>
        </div>

        <!-- ESTAT√çSTICAS -->
        <div class="stats-grid">

            <div class="stat-card">
                <div class="stat-icon">üë•</div>
                <div class="stat-number" id="totalClientes">0</div>
                <div>Clientes Ativos</div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">üèóÔ∏è</div>
                <div class="stat-number" id="totalProjetos">0</div>
                <div>Projetos em Andamento</div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">üí∞</div>
                <div class="stat-number" id="faturamentoMensal">R$ 35.200</div>
                <div>Faturamento Mensal</div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">‚úÖ</div>
                <div class="stat-number" id="projetosConcluidos">0</div>
                <div>Projetos Conclu√≠dos</div>
            </div>

        </div>

        <!-- A√á√ïES R√ÅPIDAS -->
        <div class="quick-actions">

            <a href="cadastrar-cliente.html" class="action-btn">
                <span class="action-icon">‚ûï</span>
                Novo Cliente
            </a>

            <a href="projetos.html" class="action-btn">
                <span class="action-icon">üèóÔ∏è</span>
                Novo Projeto
            </a>

            <a href="relatorios.html" class="action-btn">
                <span class="action-icon">üìà</span>
                Relat√≥rios
            </a>

            <a href="ordens-servico.html" class="action-btn">
                <span class="action-icon">üìã</span>
                Ordens de Servi√ßo
            </a>

        </div>

    </div>

    <!-- FIREBASE DASHBOARD -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCjdryEhdWNcWZpcIciZApYdZX5jXcST3A",
            authDomain: "janoline-7285c.firebaseapp.com",
            databaseURL: "https://janoline-7285c-default-rtdb.firebaseio.com",
            projectId: "janoline-7285c",
            storageBucket: "janoline-7285c.firebasestorage.app",
            messagingSenderId: "688131267684",
            appId: "1:688131267684:web:6a3d976a092512e1fad371",
            measurementId: "G-K767JLC4BP"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        const clientesRef = ref(db, "clientes/");
        const projetosRef = ref(db, "projetos/");

        const totalClientes = document.getElementById("totalClientes");
        const totalProjetos = document.getElementById("totalProjetos");
        const projetosConcluidos = document.getElementById("projetosConcluidos");

        // Clientes
        onValue(clientesRef, snap => {
            totalClientes.textContent = snap.exists() ? Object.keys(snap.val()).length : 0;
        });

        // Projetos
        onValue(projetosRef, snap => {
            if (!snap.exists()) {
                totalProjetos.textContent = "0";
                projetosConcluidos.textContent = "0";
                return;
            }

            const lista = Object.values(snap.val());
            totalProjetos.textContent = lista.length;

            const concluidos = lista.filter(p => p.status?.toLowerCase() === "conclu√≠do");
            projetosConcluidos.textContent = concluidos.length;
        });

    </script>

</body>
</html>
